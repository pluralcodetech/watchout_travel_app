<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>Document</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>

    <!--Bootstrap CDN-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">

    <!--Custom CSS-->
    <link rel="stylesheet" href="../style.css">
</head>
<body>

    <input type="checkbox" id="sidebar-toggle">
    <div class="sidebar">
        <center>
            <span class="text-center"><img src="../assets/logow.png" class="image-logo mt-5 mr-5 img-fluid"></span>
        </center>
        <div class="sidebar-header">
            <h3 class="brand">
            </h3>
            <label for="sidebar-toggle" class="ti-menu-alt"></label>
        </div>
        <div class="sidebar-menu">
            <ul>
                <li>
                    <a href="dashboard.html">
                        <span><img src="../assets/ci_dashboard.png"></span>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="booking.html">
                        <span><img src="../assets/br.png"></span>
                        <span>Booking</span>
                    </a>
                </li>
                <li>
                    <a href="add_branch.html">
                        <span><img src="../assets/br.png"></span>
                        <span>Add Branch</span>
                    </a>
                </li>
                <li>
                    <a href="branches.html">
                        <span><img src="../assets/Vector.png"></span>
                        <span>Branches</span>
                    </a>
                </li>
                <li>
                    <a href="settings.html">
                        <span><img src="../assets/settings.png"></span>
                        <span>Settings</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <div class="main-content">
        <header>
            <div>
                <h3 class="font-weight-700">Dashboard</h3>
            </div>
        </header>

        <main>

            <div class="jumbotron jumbotron-fluid jumbo-bg-color mt-5">
                <div class="container">
                    <div class="card card-width margin-center border-0">
                        <div class="card-body">
                          <h5 class="font-poppins text-center font-size-24 font-weight-700 text-color mb-5">Airline Details</h5>
                            <form class="form-line" id="settingForm">
                              <label for="Name" class="font-mulish font-size-14 font-weight-600">Airline Name</label>
                              <input type="text" name="name" id="name" class="input mb-3" placeholder="Enter Airline Name">
            
                              <label for="Email" class="font-mulish font-size-14 font-weight-600">Airline Email Address</label>
                              <input type="email" name="email" id="email" class="input mb-3" placeholder="Enter Branch Email Address">

                              <div class="row">
                                <div class="col-sm-12 col-md-12 col-lg-6">
                                    <button class="button-update font-size-14 font-weight-900">Update</button>
                                </div>
                                <div class="col-sm-12 col-md-12 col-lg-6">
                                    <button class="button-change-pass font-size-14 font-weight-900">Change Password</button>
                                </div>
                              </div>

                                
                                <div class="card-single mt-5">
                                    <div class="card-body" style="background-color: #f4f5faf3;">
                                        <div>
                                            <h6 class="font-mulish font-size-18 font-weight-700 mb-3">Copy ID</h6>
                                            <h5 id="currentId" class="text-color"></h5>
                                        </div>
                                    </div>
                                    <p id="myPara" class="text-center text-success"></p>
                                    <div class="card-action">
                                        <img src="../assets/Button.png" class="glow3" data-clipboard-target="#currentId">
                                    </div>
                                </div>
                              <p class="font-mulish font-size-14 font-weight-600 mt-3">Looking to quickly add Plug-in to your project? Copy-paste the scripts below to your data base.</p>
                              <div class="box p-2">
                                <nav class="navbar navbar-expand-lg navbar-light">
                                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                                      <span class="navbar-toggler-icon"></span>
                                    </button>
                                    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                                      <div class="navbar-nav">
                                        <a class="nav-link"><span class="text-color-light font-weight-900 p-3" id="theHead" style="border-bottom: 2px solid #0646A2;">Head</span></a>
                                        <a class="nav-link"><span class="font-weight-500 text-color-light p-3" id="theBody">Body</span></a>
                                      </div>
                                    </div>
                                </nav>
                                <hr class="border-line">

                                
                                <div class="card-color mt-2 t31">
                                    <p class="font-size-14 text-color-light"><img src="../assets/not.png" alt="not" class="mr-1"> Copy-paste the script &lt;&gt; into your &lt;head&gt; before all other scripts load our plug-in.</p>
                                    <section class="text-color-light p-3">
                                        <div class="card-content" id="content">
                                            &lt;div class="flex"&gt;<br>
                                            &lt;div class="flex-none w-48 relative"&gt;<br>
                                            &lt;img src="/classic-utility-jacket.jpg" alt="" class="absolute inset-0 w-full h-full object-cover" /&gt;<br>
                                            &lt;/div&gt;<br>
                                            &lt;form class="flex-auto p-6"&gt;<br>
                                            &lt;div class="flex flex-wrap"&gt;<br>
                                            &lt;h1 class="flex-auto text-xl font-semibold"&gt;<br>
                                            Classic Utility Jacket<br>
                                            &lt;/h1&gt;<br>
                                            &lt;div class="text-xl font-semibold text-gray-500"&gt;<br>
                                            $110.00<br>
                                            &lt;/div&gt;<br>
                                            &lt;div class="w-full flex-none text-sm font-medium text-gray-500 mt-2"&gt;<br>
                                            In stock<br>
                                            &lt;/div&gt;<br>
                                            &lt;/div&gt;<br>
                                            &lt;div class="flex items-baseline mt-4 mb-6"&gt;<br>
                                            &lt;div class="space-x-2 flex"&gt;<br>
                                            &lt;label&gt;&lt;/label&gt;<br>
                                            &lt;/div&gt;<br>
                                            &lt;/div&gt;<br>
                                            &lt;/form&gt;<br>
                                            &lt;/div&gt;
                                        </div>

                                        <div class="card-action">
                                            <img src="../assets/Button.png" class="glow" data-clipboard-target="#content">
                                        </div>
                                        
                                    </section>
                                </div>

                                <div class="card-color mt-2 hide-me t41">
                                    <p class="font-size-14 text-color-light"><img src="../assets/not.png" alt="not" class="mr-1"> Place the styled button component and the Achan modal component anywhere within your body tag correctly.</p>
                                    <p class="font-size-14 text-color-light"><img src="../assets/not.png" alt="not" class="mr-1"> Copy-paste the script &lt;&gt; into your &lt;body&gt; before all other scripts load our plug-in.</p>
                                    <section class="text-color-light p-3">
                                        <div class="card-content" id="content2">
                                            &lt;achan-modal id="y0uuGO1xY1su5ni9HiZjwO40ZHHDprsg"&gt;&lt;/achan-modal&gt;<br>

                                            &lt;script&gt;<br>
                                                const modalButton = document.querySelector('#achan-modal-btn');<br>
                                                const achanModal = document.querySelector('achan-modal');<br>
                                                modalButton.addEventListener('click', () => {<br>
                                                  if (!achanModal.opened) {<br>
                                                    console.log('Opening modal...')<br>
                                                    achanModal.opened = true;<br>
                                                  }<br>
                                                })<br>
                                                &lt;/script&gt;
                                            
                                        </div>

                                        <div class="card-action">
                                            <img src="../assets/Button.png" class="glow2" data-clipboard-target="#content2">
                                        </div>
                                        
                                    </section>
                                </div>
                              </div>
            
                            </form>
                            <p id="para" class="text-success font-weight-900 font-mulish text-center mt-3 font-size-18"></p>
                        </div>
                    </div>
                </div>
            </div> 
        </main>
    </div>

    <script>

        let getMyId = localStorage.getItem('loginData');
        let adminId = JSON.parse(getMyId);
        let getAdminId = adminId.adminid;

        let theCurrent = document.getElementById("currentId");
        theCurrent.innerHTML = getAdminId;

        let theBody = document.getElementById("theBody");
        let theHead = document.getElementById("theHead");
        let t31 = document.querySelector(".t31")
        let t41 = document.querySelector(".t41");

        function getBody() {
            t41.style.display = "block";
            t31.style.display = "none";
            theBody.style.borderBottom = "2px solid #0646A2";
            theBody.style.fontWeight = "900";
            theHead.style.fontWeight = "normal";
            theHead.style.borderBottom = "none";
        }

        theBody.addEventListener("click", getBody);

        function getHead() {
            t41.style.display = "none";
            t31.style.display = "block";
            theBody.style.borderBottom = "none";
            theBody.style.fontWeight = "normal";
            theHead.style.fontWeight = "900";
            theHead.style.borderBottom = "2px solid #0646A2";
        }

        theHead.addEventListener("click", getHead);

       let clipboard =  new ClipboardJS(".glow");
       clipboard.on('success', () => {
           let para = document.getElementById("para");
           para.innerHTML = "copied successfully";
       })


       let clipboard2 = new ClipboardJS(".glow2");
       clipboard2.on('success', () => {
           let para2 = document.getElementById("para");
           para2.innerHTML = "copied successfully";
       })

       let clipboard3 = new ClipboardJS(".glow3");
       clipboard3.on('success', () => {
           let myPara = document.getElementById("myPara");
           myPara.innerHTML = "copied successful";
       })

       let mySettings = localStorage.getItem('loginData');
       let convertSettings = JSON.parse(mySettings);

       let settingToken = convertSettings.token;

       let settingHeader = new Headers();
       settingHeader.append("Authorization", `Bearer ${settingToken}`);

       let settingRequest = {
        method: 'GET',
        headers: settingHeader,
        redirect: 'follow'
       }

       fetch("https://watchoutachan.herokuapp.com/api/admin/dashboardapi", settingRequest)
        .then(response => response.json())
        .then(result => {
            // console.log(result)
        })
        .catch(error => {
            console.log('error', error)
            if(error) {
                redirect: window.location.replace("../frontend/index.html")
            }
        });


        let settingForm = document.getElementById("settingForm");
        settingForm.addEventListener("submit", (e) => {
           e.preventDefault();

           let getAdmin = localStorage.getItem('loginData');
           let getMyAdmin = JSON.parse(getAdmin);
           let getConvert = getMyAdmin.adminid;
           console.log(getConvert);



            let formData = new FormData();

            let name = document.getElementById("name").value;
            let email = document.getElementById("email").value;

            formData.append("name", name);
            formData.append("email", email);
            formData.append("adminid", getConvert);
            

            let newOptions = {
                method: 'POST',
                body: formData,
                redirect: 'follow'
            };


            fetch("https://watchoutachan.herokuapp.com/api/adminupdate", newOptions)
            .then(response => response.json())
            .then(result => console.log(result))
            .catch(error => {
                console.log('error', error)
                if(error) {
                    redirect: window.loction.replace("../frontend/index.html")
                }
            });

        })

        let buttonUpdate = document.querySelector(".button-change-pass");
        buttonUpdate.addEventListener("click", (e) => {
            e.preventDefault();
            location.href = "retrieve_pass.html";
        })

    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
    

    <script src="./script.js"></script>
</body>
</html>